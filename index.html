<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Simple-conf by dhigginbotham</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">Simple-conf</h1>
        <p class="header">easy to use config object for your node.js app</p>

        <ul>
          <li class="download"><a class="buttons" href="https://github.com/dhigginbotham/simple-conf/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/dhigginbotham/simple-conf/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/dhigginbotham/simple-conf">View On GitHub</a></li>
        </ul>

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/dhigginbotham">dhigginbotham</a></p>


      </header>
      <section>
        <h1>
<a name="simple-conf" class="anchor" href="#simple-conf"><span class="octicon octicon-link"></span></a>simple-conf</h1>

<p>easy to use config object for your node.js app</p>

<h3>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h3>

<p>Step 1) <code>npm install simple-conf --save</code></p>

<p>Step 2) view <code>/examples/example.js</code> (or copy and paste to your app)</p>

<p>Step 3) require the <code>/examples/example.js</code> file inside your app somewhere and <code>console.log()</code></p>

<h3>
<a name="heads-up" class="anchor" href="#heads-up"><span class="octicon octicon-link"></span></a>Heads up!</h3>

<p>simple-conf is set to look for a couple environment vars by default, although, if you don't want to set these it will set some defaults instead..</p>

<ul>
<li><p><code>process.env.NODE_PASS</code>, this will set your initial seed admin password and keep this sensitive stuff
out of your repo. defaults to: <code>superSecretPassWordDawgz1!2@</code></p></li>
<li><p><code>process.env.MONGO_DB_STRING</code>, this will link up your mongodb url, good for production and public repos</p></li>
<li><p>I don't want to set these up! Oh, that's cool too -- it's not going to break, it's just there to help.</p></li>
</ul><h3>
<a name="config-helpers-new" class="anchor" href="#config-helpers-new"><span class="octicon octicon-link"></span></a>Config Helpers (new)</h3>

<p>I've included a couple helpers that I use on my apps and find helpful -- maybe you will too?</p>

<p><code>extended</code> - requires <code>req</code> good for middleware, or schema stuff that has access to req, adds:</p>

<ul>
<li><code>ip = req.headers["x-forwarded-for"] or req.connection.remoteAddress</code></li>
<li><code>user = if req.user? then req.user.username else "anonymous"</code></li>
<li><code>engine = req.protocol + "://" + req.get('host')</code></li>
</ul><p><code>folders</code> - requires <code>path</code> &amp; <code>function (err, path)</code></p>

<ul>
<li>adds folders easily so you don't have to deal with <code>.placeholder</code> files and whatnot</li>
</ul><p><code>colors</code> - no requirements</p>

<ul>
<li>
<code>red</code> outputs red font color to stdout</li>
<li>
<code>cyan</code> outputs cyan font color to stdout</li>
<li>
<code>reset</code> resets font color to stdout</li>
</ul><h3>
<a name="example" class="anchor" href="#example"><span class="octicon octicon-link"></span></a>Example</h3>

<div class="highlight"><pre>
<span class="nv">Config = </span><span class="nx">require</span> <span class="s">".."</span>

<span class="nv">fs = </span><span class="nx">require</span> <span class="s">"fs"</span>
<span class="nv">path = </span><span class="nx">require</span> <span class="s">"path"</span>

<span class="nv">env = </span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">NODE_ENV</span>

<span class="nv">port = </span><span class="k">if</span> <span class="nx">env</span> <span class="o">==</span> <span class="s">"production"</span> <span class="k">then</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">port</span> <span class="k">else</span> <span class="mi">3000</span>
<span class="nv">host = </span><span class="k">if</span> <span class="nx">env</span> <span class="o">==</span> <span class="s">"development"</span> <span class="k">then</span> <span class="s">"http://localhost:</span><span class="si">#{</span><span class="nx">port</span><span class="si">}</span><span class="s">"</span> 

<span class="nv">production = </span><span class="nx">env</span> <span class="o">==</span> <span class="s">"production"</span>
<span class="nv">development = </span><span class="nx">env</span> <span class="o">==</span> <span class="s">"development"</span>

<span class="nv">config =</span>
  <span class="nv">api:</span>
    <span class="nv">github:</span>
      <span class="nv">username: </span><span class="s">"dhigginbotham"</span>
    <span class="nv">coderbits:</span>
      <span class="nv">username: </span><span class="s">"dhz"</span>
  <span class="nv">app:</span>
    <span class="nv">title: </span><span class="s">"example-app"</span>
    <span class="nv">initials: </span><span class="s">"xpl"</span>
    <span class="nv">port: </span><span class="nx">port</span>
    <span class="nv">host: </span><span class="nx">host</span>
    <span class="nv">serverStart: </span><span class="s">"Starting up your express engines"</span>
    <span class="nv">paths: </span>
      <span class="nv">uploads: </span><span class="nx">path</span><span class="p">.</span><span class="nx">join</span> <span class="nx">__dirname</span><span class="p">,</span> <span class="s">".."</span><span class="p">,</span> <span class="s">"public"</span><span class="p">,</span> <span class="s">"uploads"</span>
      <span class="nv">views: </span><span class="nx">path</span><span class="p">.</span><span class="nx">join</span> <span class="nx">__dirname</span><span class="p">,</span> <span class="s">".."</span><span class="p">,</span> <span class="s">"views"</span>
      <span class="nv">assets: </span><span class="nx">path</span><span class="p">.</span><span class="nx">join</span> <span class="nx">__dirname</span><span class="p">,</span> <span class="s">".."</span><span class="p">,</span> <span class="s">"public"</span>
  <span class="nv">seed:</span>
    <span class="nv">init: </span><span class="k">if</span> <span class="nx">production</span> <span class="o">==</span> <span class="kc">true</span> <span class="k">then</span> <span class="kc">false</span> <span class="k">else</span> <span class="kc">true</span>
  <span class="nv">debug:</span>
    <span class="nv">mongo: </span><span class="k">if</span> <span class="nx">production</span> <span class="o">==</span> <span class="kc">true</span> <span class="k">then</span> <span class="kc">false</span> <span class="k">else</span> <span class="kc">false</span>

<span class="nv">conf = </span><span class="k">new</span> <span class="nx">Config</span> <span class="nx">config</span>

<span class="k">if</span> <span class="nx">conf</span><span class="p">.</span><span class="nx">debug</span><span class="p">.</span><span class="nx">config</span> <span class="o">==</span> <span class="kc">true</span> <span class="k">then</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span> <span class="nx">conf</span>

<span class="nv">module.exports = </span><span class="nx">conf</span>

</pre></div>

<h3>
<a name="defaults" class="anchor" href="#defaults"><span class="octicon octicon-link"></span></a>Defaults</h3>

<p><code>note</code> - defaults are now optional, ex: <code>new Config object, false</code> renders a more modular config for mountable apps.</p>

<div class="highlight"><pre>
  <span class="vi">@app = </span><span class="p">{}</span>
  <span class="vi">@app.title = </span><span class="s">"Default-config-build"</span>
  <span class="vi">@app.initials = </span><span class="s">"dcb"</span>
  <span class="vi">@app.port = </span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">port</span> <span class="o">||</span> <span class="mi">3000</span>
  <span class="vi">@app.host = </span><span class="s">"http://localhost</span><span class="si">#{</span><span class="nx">@app</span><span class="p">.</span><span class="nx">port</span><span class="si">}</span><span class="s">"</span>
  <span class="vi">@app.serverStart = </span><span class="s">"Starting express server "</span>

  <span class="vi">@db = </span><span class="p">{}</span>
  <span class="vi">@db.path = </span><span class="s">"</span><span class="si">#{</span><span class="nx">@app</span><span class="p">.</span><span class="nx">initials</span><span class="si">}</span><span class="s">"</span>
  <span class="vi">@db.url = </span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">MONGO_DB_STRING</span> <span class="o">||</span> <span class="s">"mongodb://localhost/</span><span class="si">#{</span><span class="nx">@db</span><span class="p">.</span><span class="nx">path</span><span class="si">}</span><span class="s">"</span>

  <span class="vi">@sesh = </span><span class="p">{}</span>
  <span class="vi">@sesh.key = </span><span class="s">"</span><span class="si">#{</span><span class="nx">@app</span><span class="p">.</span><span class="nx">initials</span><span class="si">}</span><span class="s">.id"</span>
  <span class="vi">@sesh.secret = </span><span class="nx">_secret</span>
  <span class="vi">@sesh.maxAge = </span><span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">1000</span>

  <span class="vi">@seed = </span><span class="p">{}</span>
  <span class="vi">@seed.init = </span><span class="kc">false</span>
  <span class="vi">@seed.folders = </span><span class="kc">true</span>

  <span class="vi">@users = </span><span class="p">{}</span>
  <span class="vi">@users.roles = </span><span class="p">[</span><span class="s">'user'</span><span class="p">,</span> <span class="s">'admin'</span><span class="p">,</span> <span class="s">'editor'</span><span class="p">,</span> <span class="s">'commenter'</span><span class="p">]</span>
  <span class="vi">@users.signupEnabled = </span><span class="kc">true</span>

  <span class="vi">@debug = </span><span class="p">{}</span>
  <span class="vi">@debug.override = </span><span class="kc">false</span>

  <span class="k">if</span> <span class="nx">opts</span><span class="o">?</span> <span class="k">then</span> <span class="nx">_</span><span class="p">.</span><span class="nx">extend</span> <span class="nx">@</span><span class="p">,</span> <span class="nx">opts</span>

  <span class="k">if</span> <span class="nx">@seed</span><span class="p">.</span><span class="nx">init</span> <span class="o">==</span> <span class="kc">true</span>
    <span class="vi">@seed.user = </span><span class="p">{}</span>
    <span class="vi">@seed.user.username = </span><span class="s">"admin"</span>
    <span class="vi">@seed.user.password = </span><span class="s">"@dminPassw0rd"</span>
    <span class="vi">@seed.user.admin = </span><span class="kc">true</span>
    <span class="vi">@seed.user.role = </span><span class="s">"admin"</span>
    <span class="vi">@seed.user.email = </span><span class="s">"admin@localhost.it"</span>
    <span class="vi">@seed.user.ip = </span><span class="s">"admin.ipv6"</span>

  <span class="nx">@</span>

</pre></div>

<h3>
<a name="license" class="anchor" href="#license"><span class="octicon octicon-link"></span></a>License</h3>

<div class="highlight"><pre>
<span class="n">The</span> <span class="n">MIT</span> <span class="n">License</span> <span class="p">(</span><span class="n">MIT</span><span class="p">)</span>

<span class="n">Copyright</span> <span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="mi">2013</span> <span class="n">David</span> <span class="n">Higginbotham</span> 

<span class="n">Permission</span> <span class="k">is</span> <span class="n">hereby</span> <span class="n">granted</span><span class="p">,</span> <span class="n">free</span> <span class="n">of</span> <span class="n">charge</span><span class="p">,</span> <span class="n">to</span> <span class="n">any</span> <span class="n">person</span> <span class="n">obtaining</span> <span class="n">a</span> <span class="n">copy</span>
<span class="n">of</span> <span class="k">this</span> <span class="n">software</span> <span class="n">and</span> <span class="n">associated</span> <span class="n">documentation</span> <span class="n">files</span> <span class="p">(</span><span class="n">the</span> <span class="s">"Software"</span><span class="p">),</span> <span class="n">to</span> <span class="n">deal</span>
<span class="k">in</span> <span class="n">the</span> <span class="n">Software</span> <span class="n">without</span> <span class="n">restriction</span><span class="p">,</span> <span class="n">including</span> <span class="n">without</span> <span class="n">limitation</span> <span class="n">the</span> <span class="n">rights</span>
<span class="n">to</span> <span class="n">use</span><span class="p">,</span> <span class="n">copy</span><span class="p">,</span> <span class="n">modify</span><span class="p">,</span> <span class="n">merge</span><span class="p">,</span> <span class="n">publish</span><span class="p">,</span> <span class="n">distribute</span><span class="p">,</span> <span class="n">sublicense</span><span class="p">,</span> <span class="n">and</span><span class="p">/</span><span class="n">or</span> <span class="n">sell</span>
<span class="n">copies</span> <span class="n">of</span> <span class="n">the</span> <span class="n">Software</span><span class="p">,</span> <span class="n">and</span> <span class="n">to</span> <span class="n">permit</span> <span class="n">persons</span> <span class="n">to</span> <span class="n">whom</span> <span class="n">the</span> <span class="n">Software</span> <span class="k">is</span>
<span class="n">furnished</span> <span class="n">to</span> <span class="k">do</span> <span class="n">so</span><span class="p">,</span> <span class="n">subject</span> <span class="n">to</span> <span class="n">the</span> <span class="n">following</span> <span class="n">conditions</span><span class="p">:</span>

<span class="n">The</span> <span class="n">above</span> <span class="n">copyright</span> <span class="n">notice</span> <span class="n">and</span> <span class="k">this</span> <span class="n">permission</span> <span class="n">notice</span> <span class="n">shall</span> <span class="n">be</span> <span class="n">included</span> <span class="k">in</span>
<span class="n">all</span> <span class="n">copies</span> <span class="n">or</span> <span class="n">substantial</span> <span class="n">portions</span> <span class="n">of</span> <span class="n">the</span> <span class="n">Software</span><span class="p">.</span>

<span class="n">THE</span> <span class="n">SOFTWARE</span> <span class="n">IS</span> <span class="n">PROVIDED</span> <span class="s">"AS IS"</span><span class="p">,</span> <span class="n">WITHOUT</span> <span class="n">WARRANTY</span> <span class="n">OF</span> <span class="n">ANY</span> <span class="n">KIND</span><span class="p">,</span> <span class="n">EXPRESS</span> <span class="n">OR</span>
<span class="n">IMPLIED</span><span class="p">,</span> <span class="n">INCLUDING</span> <span class="n">BUT</span> <span class="n">NOT</span> <span class="n">LIMITED</span> <span class="n">TO</span> <span class="n">THE</span> <span class="n">WARRANTIES</span> <span class="n">OF</span> <span class="n">MERCHANTABILITY</span><span class="p">,</span>
<span class="n">FITNESS</span> <span class="n">FOR</span> <span class="n">A</span> <span class="n">PARTICULAR</span> <span class="n">PURPOSE</span> <span class="n">AND</span> <span class="n">NONINFRINGEMENT</span><span class="p">.</span> <span class="n">IN</span> <span class="n">NO</span> <span class="n">EVENT</span> <span class="n">SHALL</span> <span class="n">THE</span>
<span class="n">AUTHORS</span> <span class="n">OR</span> <span class="n">COPYRIGHT</span> <span class="n">HOLDERS</span> <span class="n">BE</span> <span class="n">LIABLE</span> <span class="n">FOR</span> <span class="n">ANY</span> <span class="n">CLAIM</span><span class="p">,</span> <span class="n">DAMAGES</span> <span class="n">OR</span> <span class="n">OTHER</span>
<span class="n">LIABILITY</span><span class="p">,</span> <span class="n">WHETHER</span> <span class="n">IN</span> <span class="n">AN</span> <span class="n">ACTION</span> <span class="n">OF</span> <span class="n">CONTRACT</span><span class="p">,</span> <span class="n">TORT</span> <span class="n">OR</span> <span class="n">OTHERWISE</span><span class="p">,</span> <span class="n">ARISING</span> <span class="n">FROM</span><span class="p">,</span>
<span class="n">OUT</span> <span class="n">OF</span> <span class="n">OR</span> <span class="n">IN</span> <span class="n">CONNECTION</span> <span class="n">WITH</span> <span class="n">THE</span> <span class="n">SOFTWARE</span> <span class="n">OR</span> <span class="n">THE</span> <span class="n">USE</span> <span class="n">OR</span> <span class="n">OTHER</span> <span class="n">DEALINGS</span> <span class="n">IN</span>
<span class="n">THE</span> <span class="n">SOFTWARE</span><span class="p">.</span>

</pre></div>
      </section>
      <footer>
        <p><small>Hosted on <a href="https://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		
  </body>
</html>